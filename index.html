<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>FarmaCheck - Sistema de Validade</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f8f8;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #d32f2f; /* vermelho farmácia */
      color: white;
      padding: 15px;
      text-align: center;
    }

    nav {
      background-color: #e53935;
      padding: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }

    nav button {
      background-color: white;
      color: #d32f2f;
      border: 2px solid #d32f2f;
      border-radius: 25px;
      padding: 10px 20px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s, color 0.3s;
    }

    nav button:hover {
      background-color: #d32f2f;
      color: white;
    }

    .sub-menu {
      display: none;
      padding: 10px;
      text-align: center;
      background-color: #ffcdd2;
    }

    .sub-menu button {
      background-color: #ffffff;
      color: #d32f2f; /* verde farmácia */
      border: 2px solid #d32f2f;
      border-radius: 25px;
      padding: 8px 16px;
      margin: 5px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .sub-menu button:hover {
      background-color: #d32f2f;
      color: white;
    }

    .secao {
      display: none;
      padding: 20px;
    }

    .mostrar {
      display: block;
    }

    .alerta {
      border: 2px solid #c62828;
      background-color: #ffebee;
      border-radius: 10px;
      padding: 15px;
      margin: 10px 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .alerta img {
      width: 100%;
      max-width: 300px;
      border-radius: 8px;
      display: block;
      margin-bottom: 10px;
    }

    #busca-produtos {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 20px;
      margin: 10px;
      width: 200px;
    }
  </style>
</head>
<body>
  <header>
    <h1>FarmaCheck - Sistema de Verificação de Validade</h1>
  </header>

  <nav>
    <button onclick="mostrarSecao('Medicamentos')">Medicamentos</button>
    <button onclick="mostrarSecao('Vitaminas')">Vitaminas</button>
    <button onclick="mostrarSecao('Higiene')">Higiene</button>
    <button onclick="mostrarSecao('Beleza')">Beleza</button>
    <button onclick="mostrarSecao('Infantil')">Infantil</button>
  </nav>

  <div class="sub-menu" id="submenu-Medicamentos">
    <button onclick="mostrarProdutosCategoria('Genérico')">Genéricos</button>
    <button onclick="mostrarProdutosCategoria('Similar')">Similares</button>
    <button onclick="mostrarProdutosCategoria('Estimulante')">Estimulantes</button>
    <button onclick="mostrarProdutosCategoria('Referência')">Referência</button>
  </div>

  <div style="text-align: center;">
    <input type="text" id="busca-produtos" placeholder="Buscar produto..." oninput="mostrarProdutos(this.value)">
  </div>

  <div id="secao-Medicamentos" class="secao"></div>
  <div id="secao-Vitaminas" class="secao"></div>
  <div id="secao-Higiene" class="secao"></div>
  <div id="secao-Beleza" class="secao"></div>
  <div id="secao-Infantil" class="secao"></div>

  <script>
    const hoje = new Date();

    const produtos = [
      { nome: "Dipirona Genérico", validade: "2025-08-10", secao: "Medicamentos", imagem: "img/Dipirona.png", codigoDeBarras: "1234567890123" },
      { nome: "Dorflex Similar", validade: "2025-08-12", secao: "Medicamentos", imagem: "img/dorflex similar.png", codigoDeBarras: "2345678901234" },
      { nome: "Viagra Estimulantes", validade: "2025-08-15", secao: "Medicamentos", imagem: "img/viagra.png", codigoDeBarras: "3456789012345" },
      { nome: "Tylenol Referência", validade: "2025-08-20", secao: "Medicamentos", imagem: "img/Tylenol Referência.png", codigoDeBarras: "4567890123456" },
      { nome: "Vitamina C 1g", validade: "2025-09-10", secao: "Vitaminas", imagem: "img/vitamina.png", codigoDeBarras: "5678901234567" },
      { nome: "Sabonete Dove", validade: "2025-09-15", secao: "Higiene", imagem: "img/sabonete dove.png", codigoDeBarras: "6789012345678" },
      { nome: "Shampoo Infantil", validade: "2025-10-05", secao: "Infantil", imagem: "img/sabonete.png", codigoDeBarras: "7890123456789" },
      { nome: "Creme Facial", validade: "2025-11-20", secao: "Beleza", imagem: "img/creme facial.png", codigoDeBarras: "8901234567890" }
    ];

    function mostrarSecao(secaoId) {
      document.querySelectorAll('.secao').forEach(secao => secao.classList.remove('mostrar'));
      document.querySelectorAll('.sub-menu').forEach(sub => sub.style.display = "none");

      const secaoAtual = document.getElementById(`secao-${secaoId}`);
      if (secaoAtual) {
        secaoAtual.classList.add('mostrar');
      }

      if (secaoId === "Medicamentos") {
        document.getElementById("submenu-Medicamentos").style.display = "block";
      }

      const textoBusca = document.getElementById("busca-produtos").value.trim();
      mostrarProdutos(textoBusca);
    }

    function mostrarProdutos(filtro = "") {
      document.querySelectorAll('.secao').forEach(secao => secao.innerHTML = "");

      produtos.forEach(produto => {
        const dataValidade = new Date(produto.validade);
        const diffDias = Math.ceil((dataValidade - hoje) / (1000 * 60 * 60 * 24));

        const filtroTexto = produto.nome.toLowerCase().includes(filtro.toLowerCase());

        if (diffDias >= 0 && filtroTexto) {
          const secaoDiv = document.getElementById(`secao-${produto.secao}`);
          if (secaoDiv) {
            const alerta = document.createElement("div");
            alerta.className = "alerta";
            alerta.innerHTML = `
              <img src="${produto.imagem}" alt="${produto.nome}">
              <h3>${produto.nome}</h3>
              <p><strong>Código de Barras:</strong> ${produto.codigoDeBarras}</p>
              <p><strong>Validade:</strong> ${produto.validade}</p>
              <p style="color:red;"><strong>⚠ Faltam ${diffDias} dia(s) para vencer!</strong></p>
            `;
            secaoDiv.appendChild(alerta);
          }
        }
      });
    }

    function mostrarProdutosCategoria(categoria) {
      const secaoDiv = document.getElementById("secao-Medicamentos");
      secaoDiv.innerHTML = `<h2>Medicamentos - ${categoria}</h2>`;

      produtos.forEach(produto => {
        const dataValidade = new Date(produto.validade);
        const diffDias = Math.ceil((dataValidade - hoje) / (1000 * 60 * 60 * 24));
        const pertenceCategoria = produto.nome.toLowerCase().includes(categoria.toLowerCase());

        if (produto.secao === "Medicamentos" && pertenceCategoria && diffDias >= 0) {
          const alerta = document.createElement("div");
          alerta.className = "alerta";
          alerta.innerHTML = `
            <img src="${produto.imagem}" alt="${produto.nome}">
            <h3>${produto.nome}</h3>
            <p><strong>Código de Barras:</strong> ${produto.codigoDeBarras}</p>
            <p><strong>Validade:</strong> ${produto.validade}</p>
            <p style="color:red;"><strong>⚠ Faltam ${diffDias} dia(s) para vencer!</strong></p>
          `;
          secaoDiv.appendChild(alerta);
        }
      });
    }

    // Mostra seção padrão ao carregar
    window.onload = () => mostrarSecao('Medicamentos');
  </script>
</body>
</html>
